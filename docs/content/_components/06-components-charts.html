---
Title: Графики & диаграммы
menutitle: Графики & диаграммы
category: components
anchor: components-charts
order: 6
---

<p>Для диаграм подключен скрипт <a href="https://www.highcharts.com/docs/getting-started/your-first-chart">highcharts.js</a></p>
<h3>Оформления блока с графиком</h3>
<p>Блок родитель - <code class="language-plaintext highlighter-rouge">chartsBlock</code></p>
<p>В блок с классом<code class="language-plaintext highlighter-rouge">chartsBlock_header</code> помещается название, иконка и другие информационные элементы (например, статусы).</p>
<p>По необходимости вставляем текст в подзаголовок. <code class="language-plaintext highlighter-rouge">chartsBlock_headerSubtitles</code> По умолчанию, вставлять неразрывый пробел - <code class="language-plaintext highlighter-rouge">&nbsp;</code></p>
<p>В блок <code class="language-plaintext highlighter-rouge">chartsBlock_body</code> помещаем сам график с рекомнедуемыми предустановками:</p>
<h4>1. Без использования  <code class="language-plaintext highlighter-rouge">app\helpers\HighchartsHelper</code></h4>
    <p>В качестве цвета <code class="language-plaintext highlighter-rouge">color</code> использовать переменные из списка:</p>
<p>
    <code class="language-plaintext highlighter-rouge">var(--chart-blue)`</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-green)</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-red)</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-light-blue)</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-orange)</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-rose)</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-light-yellow2)</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-dark-green)</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-grey)</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-light-green)</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-dark-grey)</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-black)</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-dark-red)</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-dark-orange)</code>,
    <code class="language-plaintext highlighter-rouge">var(--chart-yellow2)</code>,
</p>
{% highlight html %}
<div class="chartsBlock mb-10">
  <div class="chartsBlock_header">
      <div class="chartsBlock_headerItem">
          <?= Html::tag('span', Icons::icon("bicolors-car__24vb"), ['class' => 'svg--icon mr-10']) ?>
          <h3>Название графика</h3>
      </div>
      <div class="chartsBlock_headerItem">
      </div>
  </div>
  <div class="chartsBlock_headerSubtitles">Подзаголовок</div>
  <div class="chartsBlock_body">
    <?= Highcharts::widget([
        'htmlOptions' => [
            'class' => '',
        ],
        'options' => array_merge(
            [
                'chart' => [
                    'height' => 220,
                    'spacingTop' => 20,
                    'width' => null,
                    'style' => [
                        'fontFamily' => 'inherit',
                    ],
                ],
                'title' => [
                    'text' => '',
                ],
                'exporting' => [
                    'enabled' => true,
                    'buttons' => [ // если нужно вывести меню экспорта
                        'contextButton' => [
                            'buttonSpacing' => 0,
                            'height' => 20,
                            'menuItems' => ['viewFullscreen', 'printChart', 'separator', 'downloadPNG', 'downloadJPEG','downloadPDF'],
                            'symbolStrokeWidth' =>  1,
                            'symbolFill' =>  'var(--chart-label-color)',
                            'symbolStroke' =>  'var(--chart-label-color)',
                            'symbolSize' => 16,
                            'symbolX' => 11,
                            'x' => 6,
                            'y' => -24,
                            'width' => 20,
                        ],
                    ],
                ],
                'credits'=> [
                    'enabled' => false
                ],
                'colors' => [
                        'var(--chart-blue)',
                        'var(--chart-green)',
                        'var(--chart-red)',
                        'var(--chart-light-blue)',
                        'var(--chart-orange)',
                        'var(--chart-rose)',
                        'var(--chart-light-yellow2)',
                        'var(--chart-dark-green)',
                        'var(--chart-grey)',
                        'var(--chart-light-green)',
                        'var(--chart-dark-grey)',
                        'var(--chart-black)',
                        'var(--chart-dark-red)',
                        'var(--chart-dark-orange)',
                        'var(--chart-yellow2)',
                ],
                'plotOptions' => [
                    'series' => [
                        'lineWidth' => 2, // для 'chart' => ['type' => 'spline']
                        'dataLabels' => [
                            'enabled' => true,
                            'style' => [
                                'color' => 'var(--chart-label-color)',
                                'fontSize' => '11px',
                                'fontWeight' => 'normal',
                                'textOutline' => false,
                            ],
                        ],
                    ],
                ],
                'legend' => [
                    'align' => 'right', // для ['chart' => 'type' => 'pie']
                    'verticalAlign' => 'middle', // для ['chart' => 'type' => 'pie']
                    'layout' => 'vertical', // для ['chart' => 'type' => 'pie']
                    'itemStyle' => [
                        'fontWeight' => 'normal',
                    ],
                    'padding' => 0, // для ['chart' => 'type' => 'pie']
                    'itemWidth' => null, // для ['chart' => 'type' => 'pie']
                    'width' => "60%", // для ['chart' => 'type' => 'pie']
                ],
                'tooltip' => [
                    'backgroundColor' => "#ffffff",
                ],
  </div>
</div>
{% endhighlight %}

<div class="bs-docs-example">
  <div class="chartsBlock">
    <div class="chartsBlock_header">
        <div class="chartsBlock_headerItem">
            <span class="svg--icon mr-10"><svg width="24" height="24"><use xlink:href="/dsf-common-ui/dist/sprite.symbol.svg#bicolors-car__24vb"></use></svg></span>
            <h3>Название графика</h3>
        </div>
        <div class="chartsBlock_headerItem">
        </div>
    </div>
    <div class="chartsBlock_headerSubtitles">Подзаголовок</div>
    <div class="chartsBlock_body">
        <img src="https://195004.selcdn.ru/ref/cad34c4ed697465ddeb196d06416fcc8864ea2be.jpg"> 
    </div>
  </div>
</div>

<h4>2. C использованием  <code class="language-plaintext highlighter-rouge">app\helpers\HighchartsHelper</code></h4>
<p>По умолчанию используется -  <code class="language-plaintext highlighter-rouge">HighchartsHelper::chart(['chart' => ['type' => '...']</code></p>
<p>Настроенные виды графиков (column, funnel, spline, pie, pieHalf...) смотреть в <code class="language-plaintext highlighter-rouge">app\helpers\HighchartsHelper.php</code> а их примеры использования в проекте в <code class="language-plaintext highlighter-rouge">docs/HighchartsHelper.md</code></p>
<p>Цвета для каждого элемента графика переопределять в <code class="language-plaintext highlighter-rouge">'series' => ['colorIndex' => HighchartsHelper::COLOR_RED]</code></p>